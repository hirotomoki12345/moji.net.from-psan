<!DOCTYPE html>
<html>
<head>
    <title>GET</title>
</head>
<body>

    <!-- 位置情報の表示を促すボタン -->
    <button id="getLocationButton" onclick="getLocation()">GET</button>

    <!-- 位置情報とデバイス情報を表示するための要素 -->
    <div id="locationResult"></div>
    <div id="deviceInfo"></div>

    <!-- バッテリー情報を表示するための要素 -->
    <div id="batteryInfo"></div>

    <script>
        // 位置情報の取得をリクエストする関数
        function getLocation() {
            var getLocationButton = document.getElementById("getLocationButton");
            getLocationButton.disabled = true; // ボタンを無効化

            if (navigator.geolocation) {
                // 位置情報の取得をリクエスト
                navigator.geolocation.getCurrentPosition(showPosition, showError);
            } else {
                alert("位置情報の取得がサポートされていません。");
                getLocationButton.disabled = false; // ボタンを有効化
            }
        }

        // 位置情報の取得に成功した場合のコールバック関数
        function showPosition(position) {
            var getLocationButton = document.getElementById("getLocationButton");
            getLocationButton.disabled = false; // ボタンを有効化

            // 取得した位置情報を利用して、緯度と経度を表示
            var latitude = position.coords.latitude;
            var longitude = position.coords.longitude;

            // 取得した位置情報をHTMLに表示
            var locationResult = document.getElementById("locationResult");
            locationResult.innerHTML = "現在の位置情報：<br>緯度：" + latitude + "<br>経度：" + longitude;

            // ... デバイス情報とバッテリー情報の表示などの処理を続ける ...
        }

        // 位置情報の取得に失敗した場合のコールバック関数
        function showError(error) {
            var getLocationButton = document.getElementById("getLocationButton");
            getLocationButton.disabled = false; // ボタンを有効化

            switch (error.code) {
                case error.PERMISSION_DENIED:
                    alert("位置情報の取得が許可されていません。設定で許可を確認してください。");
                    break;
                case error.POSITION_UNAVAILABLE:
                    alert("位置情報が利用できません。");
                    break;
                case error.TIMEOUT:
                    alert("位置情報の取得にタイムアウトしました。もう一度お試しください。");
                    break;
                case error.UNKNOWN_ERROR:
                    alert("位置情報の取得中に不明なエラーが発生しました。");
                    break;
            }
        }
    </script>
</body>
</html>
